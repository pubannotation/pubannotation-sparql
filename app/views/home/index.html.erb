<fieldset style="display:inline-block">
<legend>Search</legend>
<form id="queryform" name="sparql" method="get" action="/solutions/index">
<div>
Default Graph IRI:<br/>
<input id="graph" type="text" name="default-graph-uri" size="60" />
</div>
<br/>
<div>
SPARQL:
<textarea id="query" name="query" maxlength="1200" required="required" style="height:200px; width:680px">
<%= default_query %>
</textarea>
</div>
<div style="align:center; margin:5px">
Show the results in [
<input type="radio" name="actionsel" onclick="document.getElementById('queryform').action='http://rdf.pubannotation.org/sparql';" checked="checked"/> Binding
|
<input type="radio" name="actionsel" onclick="document.getElementById('queryform').action='/solutions/index';"/> TextAE
]
</div>
<input type="submit" name="submit" value="submit" style="height: 30px; width: 600px" />
</form>
<div id="comment">
</div>
</fieldset>

<!-- codemirror scripts -->
<script>
var sparqlMirror = CodeMirror.fromTextArea(document.getElementById("query"), {
	lineNumbers: true,
	mode: "sparql"
});

function setquery(query) {
	document.getElementById("graph").value = query["graph"];
	sparqlMirror.getDoc().setValue(query["sparql"]);
	document.getElementById("comment").innerHTML = query["comment"];

	// sparqlMirror = CodeMirror.fromTextArea(document.getElementById("query"), {
	//     lineNumbers: true,
	//     mode: "sparql"
	// });
}
</script>

<div class="example-queries">
<h2>Example queries <span class="meta">(click to see SPARQL query)</span></h2>
<%= render :partial => "queries/list" %>
</div>
